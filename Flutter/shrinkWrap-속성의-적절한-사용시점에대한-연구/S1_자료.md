# 참고한 것들(형식 자유)
- 출처/링크: [shrinkWrap 공식문서] https://api.flutter.dev/flutter/widgets/ScrollView/shrinkWrap.html
  - 메모:
    - 공식 문서 설명에 따르면 shrinkWrap 속성은 스크롤 방향으로의 크기를 내용물의 실제 길이만큼 줄일지 아닐지 판단하는 프로퍼티이다.
    - 스크롤 방향으로의 크기를 줄이지 않으면, 다시 말해서 shrinkWrap을 비활성화 하면 해당 리스트뷰(또는 그리드뷰 등 shrinkWrap을 사용하는 모든 위젯)는 스크롤 방향의 길이는 부모 위젯에서 정해준 만큼의 길이만큼 차지한다고 한다.
    - 스크롤 방향으로의 제약 조건이 무한대라면 shrinkWrap은 반드시 true여야 한다고 함.
    - shrinkWrap = true 가 shrinkWrap = false 보다 훨씬 비용이 많이 든다고 함.
      - 스크롤 하는 동안 콘텐츠가 확장되거나 축소될 수 있기 때문이라고 함
        - 크기가 변하지 않아도 매 스크롤마다 레이아웃 계산을 다시하나? 그렇다면 왜? 리스트가 스크롤된다고 크기가 변할 수 있는건가?
    - 기본값은 false 라고 함.

# 얻은 핵심
- 결국 shrinkWrap은 리스트뷰가 본인의 메인스크롤방향의 길이를 부모를 통해서 받을 것인지, 아니면 직접 정할것인지를 판단하는 프로퍼티로 보임
- shrinkWrap이 true일 경우에는 자신의 길이를 스스로 정해야 함으로 높이가 변했든 변하지 않았든간에 스크롤 될 때마다 본인의 현재 높이를 구해야 할 것이고 이것만으로도 리소스가 낭비될것으로 추측됨

# 떠오른 생각
- 솔직히 말해서 shrinkWrap이 왜 필요한건지 잘 모르겠음. 자신의 리스트 길이만큼 사이즈를 직접 구해야 하는 타이밍이 존재하는건가? 이 부분도 생각해보면 좋을듯
- Column이나 SCSV같은 경우는 자식들에게 Main-Axis 방향으로 무한의 길이를 제공해주려고 하기 때문에 자식으로 ListView 같은것이 들어갈 수 없는데 이 때 shrinkWrap을 쓰면 에러를 피할 수 있음
  - 그러나 이것 또한 SizedBox+ListVie 또는 Expanded+ListVie 등 사이즈를 지정하는 부모 위젯과 함께 사용하면 해결될 문제라서 도대체 언제 사용해야 하는지 모르겠음
    - 사이즈지정위젯+shrinkWrap vs shrinkWrap:true 중 무엇이 더 효율적인지 테스트해봐도 좋을듯, 매 스크롤 프레임마다 계산하지 않는 사이즈지정위젯+ListView가 더 효율적인 것이라고 추측됨

# 아직 모르는 점
- **떠오른 생각**에서 말 한 것처럼 shrinkWrap을 구체적으로 언제 써야 하는지 모르겟음. 다시말해 리스트뷰가 본인의 사이즈를 본인이 직접 매 프레임마다 갱신해줘야 하는 상황이 안 떠오름

## AI 리뷰(답변)
요약: shrinkWrap은 “부모가 크기를 못 정해줄 때, 스스로 콘텐츠 길이만큼 줄어드는 스크롤뷰”를 만드는 옵션이다. 기능은 분명하지만, 레이아웃 비용(특히 스크롤 중) 이 크므로 기본은 false, 꼭 필요할 때만 쓰는 게 맞다.

### 잘 짚은 점
- 기본값이 false인 이유 = 성능 최적화 관점에서의 기본 선택.
- 스크롤 축 제약이 무한대일 때(Column/SCSV 등) shrinkWrap:true가 오류 회피 수단이 될 수 있음.

### 정확히 보완할 점
- “매 프레임마다 전 자식 재계산”으로 이해하면 과장이다. 실제로는 RenderShrinkWrappingViewport가 스크롤 위치가 바뀔 때마다 뷰포트 크기를 재산정해야 해 레이아웃 패스가 자주 발생한다. 자식 수/가변 높이일수록 체감 비용↑.
- shrinkWrap:true여도 지연 빌드(lazy build)는 유지되지만, 전체 길이 추정/가시 구간 계산 때문에 레이아웃 오버헤드가 커진다.

### 언제 쓰나? (실전 기준)
- 작은 목록(예: ≤ 수십 개) + 내용에 맞춰 딱 붙는 UI: Dialog, BottomSheet, ExpansionTile 내부처럼 리스트가 화면을 채우면 안 되는 경우.
- 상위가 스크롤이고 하위 리스트는 비스크롤이어야 할 때: SingleChildScrollView 내부에 보조 목록을 넣되
ListView(shrinkWrap:true, physics: NeverScrollableScrollPhysics()).
→ 그래도 가능하면 슬리버 구성으로 바꾸는 게 최선.
- 빠른 프로토타입/임시 해결: 레이아웃 구조를 갈아엎기 어려울 때의 응급 처치.

### 빠른 체크리스트
- 메인 스크롤뷰인가? → NO shrinkWrap
- 부모가 높이/너비를 줄 수 있나? → Expanded/SizedBox 먼저
- 아이템 수 작고 UI가 내용에 꼭 맞아야 하나? → 그때만 shrinkWrap:true
- 상위도 스크롤? → 가능하면 슬리버로 리팩터링, 불가 시 보조 리스트 + NeverScrollableScrollPhysics
