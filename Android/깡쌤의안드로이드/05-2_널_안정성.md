# 05-2 널 안정성
## 널 안정성이란?
- null 이란?
    - 널(null)이란 객체가 선언되었지만 초기화되지 않은 상태를 의미한다.
    - 객체는 데이터가 저장된 주소를 참조하는데 null은 객체가 주소값을 가지지 못한 상태이다.
- 널 안정성이란?
    - 널인 객체를 이용하면 널 포인트 예외가 발생하는데 이런 예외가 발생하지 않도록 코드를 작성하는것이 널 안정성이다
- 아래는 널 안정성을 개발자가 직접 코드로 구현한 것이다.
```kotlin
    fun main() {
        var data: String? = null
        val length = if(data == null) {
            0
        } else {
            data.length
        }
    }
```
- 매번 위 코드처럼 개발자가 널 안정성을 고려하여 작성한다면 생산성이 떨어지기 때문에 kotlin에서 아래와 같이 널안정성 코드를 작성할 수 있게 했다.
```kotlin
    fun main() {
        var data: String? = null
        val length = data?.length ?: 0
    }
```

## 널 안전성 연산자
### 널 안전성 호출 - ?. 연산자
널 허용으로 선언한 변수의 멤버에 접근할때는 언제든지 Null을 반환할 수 있기 때문에 반드시 ?. 연산자를 사용해야 한다.

### 엘비스 - ?:연산자
- 엘비스 연산자란 ?: 기호를 의미한다.
- ?. 연산자는 변수가 널이면 널을 반환한다.
- 그런데 어떠한 경우에는 반드시 널이 아닌 값을 대입해야 하는 경우가 있고 그럴때 엘비스 연산자를 사용한다.
```kotlin
    fun main() {
        var data: String? "a"
        println("data = $data : ${data?.length ?: -1}")    // data = a : 5
        data = null
        println("data = $data : ${data?.length ?: -1}")    // data = null : -1
    }
```

### 예외 발생 - !! 연산자
- !!는 객체가 널일 때 예외를 일으키는 연산자이다.
- ?. 이나 ?: 를 이용하여 예외 발생을 막아야 하는 경우도 있지만 상황에 따라서는 예외를 발생시켜야 하는 경우가 있다. 이 때, !! 연산자를 사용한다.
```kotlin
    fun some(data: String?): Int {
        return data!!.length
    }

    fun main() {
        println(some(null))    // exception!
    }
```